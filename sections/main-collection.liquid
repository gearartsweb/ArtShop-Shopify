<div class="collection-layout-wrapper">
  
  <aside class="collection-sidebar">
    <div class="filter-group">
      <h4>Categories</h4>
      <ul>
        {% for collection in collections %}
          <li><a href="{{ collection.url }}">{{ collection.title }}</a></li>
        {% endfor %}
      </ul>
    </div>

    <div class="filter-group">
      <h4>Filter by Brand</h4>
      {% for product_vendor in collection.all_vendors %}
        <label class="filter-checkbox">
          <input type="checkbox" value="{{ product_vendor }}"> {{ product_vendor }}
        </label>
      {% endfor %}
    </div>
  </aside>

  <main class="collection-main">
    <div class="studio-grid">
       {% comment %} Your existing product loop code {% endcomment %}
    </div>
  </main>

</div>

<style>
  .collection-layout-wrapper {
    display: flex;
    gap: 40px;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .collection-sidebar {
    flex: 0 0 250px; /* Fixed width for sidebar */
    border-right: 1px solid #eee;
    padding-right: 20px;
  }

  .collection-main {
    flex: 1; /* Takes up remaining space */
  }

  .filter-group { margin-bottom: 30px; }
  .filter-group h4 { font-size: 14px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 15px; border-bottom: 1px solid #000; padding-bottom: 5px; }
  .filter-group ul { list-style: none; padding: 0; }
  .filter-group li { margin-bottom: 8px; font-size: 14px; }
  .filter-checkbox { display: block; font-size: 13px; margin-bottom: 5px; cursor: pointer; color: #555; }

  /* Responsive: Stack on mobile */
  @media (max-width: 768px) {
    .collection-layout-wrapper { flex-direction: column; }
    .collection-sidebar { display: none; } /* Usually we hide this and use a drawer on mobile */
  }
</style>