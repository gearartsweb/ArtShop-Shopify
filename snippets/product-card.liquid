<div class="studio-product-card{% unless product.available %} product-card--sold-out{% endunless %}">
  <a href="{{ product.url }}" style="text-decoration: none; color: inherit;">
    <div class="image-frame" style="position: relative;">
      
      {% comment %} SOLD OUT BADGE {% endcomment %}
      {%- unless product.available -%}
        <span class="sold-out-badge">SOLD OUT</span>
      {%- endunless -%}

      <img 
        src="{{ product.featured_image | image_url: width: 400 }}" 
        alt="{{ product.featured_image.alt | escape }}"
        loading="lazy"
        width="{{ product.featured_image.width }}"
        height="{{ product.featured_image.height }}"
        class="grid-img"
        {% unless product.available %}style="opacity: 0.6; filter: grayscale(0.5);"{% endunless %}
      >

      {% form 'product', product %}
        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
        <input type="hidden" name="quantity" value="1">
        
        {%- if product.available -%}
          <button type="submit" class="quick-add-btn">
            ADD TO BAG
          </button>
        {%- else -%}
          <button type="button" class="quick-add-btn disabled" disabled style="background: #ccc; cursor: not-allowed; opacity: 0.7;">
            UNAVAILABLE
          </button>
        {%- endif -%}
      {% endform %}
    </div>

    <div class="product-info">
      <p class="brand-name">{{ product.vendor }}</p>
      <h3 class="product-title">{{ product.title }}</h3>
      <p class="product-price">
        {% if product.available %}
          {{ product.price | money }}
        {% else %}
          <span style="text-decoration: line-through; color: #999;">{{ product.price | money }}</span>
        {% endif %}
      </p>
    </div>
  </a>
</div>